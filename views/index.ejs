<!-- TODO: Cleanup code and comments -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Celestial Study</title>

    <link rel="stylesheet" href="style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="viewport-wrapper">
      <div class="gradient-backgrounds">
        <!-- NOTE: May need to remove these divs depending on final gradient used  -->
        <div class="night-gradient"></div>
        <div class="day-gradient"></div>
      </div>
      <div id="drawing-flex-container">
        <img
          class="drawing rise-sun"
          src="images/Sun.png"
          alt="drawing of the sun"
        />
        <img
          class="drawing rise-moon"
          src="images/Moon.png"
          alt="drawing of the moon"
        />
        <img
          class="drawing rise-stars"
          src="images/Stars.png"
          alt="drawing of the stars"
        />
        <img
          class="drawing"
          src="images/Day-Cloud.png"
          alt="drawing of cloud in the day"
        />
        <img
          class="drawing cloud-night"
          src="images/Night-Cloud.png"
          alt="drawing of cloud in the day"
        />
        <img
          class="drawing globe-day"
          src="images/Day-Globe.png"
          alt="drawing of globe in the day"
        />
        <img
          class="drawing globe-night"
          src="images/Night-Globe.png"
          alt="drawing of globe in the night"
        />
        <img
          class="drawing car-day"
          src="images/Day-Car.png"
          alt="drawing of car in the day"
        />
        <img
          class="drawing car-night"
          src="images/Night-Car.png"
          alt="drawing of car in the day"
        />
        <div id="credits">
          <p>
            Developed by
            <a href="https://github.com/ShannyxMP">ShannyxMP</a>. Not affliated
            with Nintendo or Animal Crossing.
          </p>
        </div>
      </div>

      <main>
        <div id="body-visible">
          <h1>Celestial Study, <span id="displayTime"><%= time %></span></h1>
          <p><%= message %></p>

          <% if (soundtrack) { %>
          <!-- TODO: Create a customised audio player -->
          <audio id="audioPlayer" controls loop>
            <source src="<%= soundtrack %>" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>
        </div>

        <button id="settings">
          <img src="images/settings-icon.png" alt="settings" />
        </button>
        <div id="form" class="collapsed">
          <!-- [x] Add a way to customise time to choose the hourly soundtrack -->
          <!-- TODO: Add a way for viewer to listen to other animal crossing games' music -->
          <form action="/set-soundtrack" method="POST">
            <label for="setTime">Time:</label>
            <select name="setTime" id="setTime">
              <% for (let i = 0; i < 24; i++) { %> <% if (i > 0 && i <= 11) { %>
              <option value="<%= i %>AM"><%= i %>AM</option>
              <% } else if (i === 12) { %>
              <option value="<%= i %>PM"><%= i %>PM</option>
              <% } else if (i > 12 && i < 24) { %> <% let j = i - 12; %>
              <option value="<%= j %>PM"><%= j %>PM</option>
              <% } else { %>
              <option value="12AM">12AM</option>
              <% } %> <% } %>
            </select>
            <input id="submit-btn" type="submit" />
            <br />
            <br />
            <a id="reset-link" href="/">Reset to auto mode</a>
          </form>
        </div>
        <% } %>
      </main>
    </div>
    <script src="main.js"></script>
  </body>
</html>
